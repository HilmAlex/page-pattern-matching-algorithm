(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5301:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(2976)}])},2976:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var r=n(5893),c=n(7294),a={container:{minHeight:"15vh"}},s=function(){return(0,r.jsxs)("header",{className:"container",style:a.container,children:[(0,r.jsx)("h1",{className:"text-center fs-1 fw-bold mt-4",children:"Algoritmos de Coincidencia de Patrones"}),(0,r.jsx)("h2",{className:"text-center fs-2 fw-bold",children:"Rendimiento"})]})},i=n(5666),o=n.n(i),l=(0,c.createContext)(null),u=function(e){var t=(0,c.useState)(""),n=t[0],a=t[1],s=(0,c.useState)([]),i=s[0],o=s[1],u=(0,c.useState)({}),d=u[0],m=u[1];return(0,r.jsx)(l.Provider,{value:{text:n,setText:a,patterns:i,setPatterns:o,data:d,setData:m},children:e.children})},d=function(){var e=(0,c.useContext)(l).setText;return(0,r.jsxs)("div",{className:"form-group d-flex flex-column justify-content-center rounded p-3 shadow-lg",children:[(0,r.jsxs)("div",{className:"d-flex justify-content-center mt-1",children:[(0,r.jsx)("label",{className:"font-weight-bold",htmlFor:"input-file",style:{marginRight:"10px"},children:"Cargar un archivo"}),(0,r.jsx)("input",{type:"file",className:"form-control-file",id:"input-file",onChange:function(t){var n=t.target.files;if(console.log(n),n){var r=n[0],c=new FileReader;c.readAsText(r),c.onload=function(){var t=c.result;localStorage.setItem("file",t),e(t)}}}})]}),(0,r.jsx)("div",{className:"d-flex justify-content-center mt-3 ",children:(0,r.jsx)("button",{type:"button",className:"btn btn-primary",onClick:function(t){localStorage.getItem("file")&&e(localStorage.getItem("file"))},children:"Cargar archivo reciente"})})]})},m=function(e){return(0,r.jsxs)("div",{className:"form-group mt-2",children:[(0,r.jsx)("label",{htmlFor:e.htmlFor,children:e.title}),(0,r.jsx)("textarea",{className:"form-control",id:e.id,rows:e.rows,value:e.value,onChange:function(t){var n=t.target;e.setValue(n.value)}})]})};function f(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var h=function(e){var t=e.patternsNumber,n=(0,c.useContext)(l),a=n.patterns,s=n.setPatterns;return(0,c.useEffect)((function(){var e=t,n=e-a.length;n>0&&s(function(e,t){for(var n=[],r=0;r<e;r++)n.push("");return t.concat(n)}(n,a)),n<0&&s(f(a.slice(0,e)))}),[t]),(0,r.jsx)(r.Fragment,{children:a.map((function(e,t){return(0,r.jsx)(m,{htmlFor:"pattern-input",id:"pattern-input",rows:2,title:"Patr\xf3n",value:e,setValue:function(e){return function(e,t){var n=f(a);n[t]=e,s(n)}(e,t)}})}))})},x=function(e){return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"form-check",children:[(0,r.jsx)("input",{className:"form-check-input",type:"checkbox",checked:e.value,id:"defaultCheck1",onChange:function(){e.setValue(!e.value)}}),(0,r.jsx)("label",{className:"form-check-label",htmlFor:"defaultCheck1",children:e.name})]})})},p={maxWidth:"120px"},j=function(e){var t=e.patternsNumber,n=e.setPatternsNumber;return(0,r.jsxs)("div",{className:"form-group d-flex flex-column justify-content-center align-center rounded p-3 shadow-lg",children:[(0,r.jsx)("label",{htmlFor:"number-patterns",children:"Patrones a buscar"}),(0,r.jsx)("input",{type:"number",style:p,min:1,className:"form-control text-center fw-bold",id:"number-patterns",onChange:function(e){e.preventDefault();var t=e.target,r=parseInt(t.value);n(r)},value:t})]})};function v(e,t,n,r,c,a,s){try{var i=e[a](s),o=i.value}catch(l){return void n(l)}i.done?t(o):Promise.resolve(o).then(r,c)}var b,g="".concat("http://localhost:8080","/api"),y=(b=o().mark((function e(t,n,r){var c,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c="".concat(g,"/").concat(r,"?text=").concat(t,"&pattern=").concat(n),console.log(c),e.prev=2,e.next=5,fetch(c);case 5:return a=e.sent,e.next=8,a.json();case 8:return s=e.sent,e.abrupt("return",s);case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[2,12]])})),function(){var e=this,t=arguments;return new Promise((function(n,r){var c=b.apply(e,t);function a(e){v(c,n,r,a,s,"next",e)}function s(e){v(c,n,r,a,s,"throw",e)}a(void 0)}))});function N(e,t,n,r,c,a,s){try{var i=e[a](s),o=i.value}catch(l){return void n(l)}i.done?t(o):Promise.resolve(o).then(r,c)}function w(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var k=[{name:"Fuerza Bruta",slug:"brute-force",isChecked:!0},{name:"KMP",slug:"kmp",isChecked:!1},{name:"Boyer Moore",slug:"boyer-moore",isChecked:!1}],C=function(e){var t=(0,c.useContext)(l),n=t.text,a=t.setText,s=t.patterns,i=(0,c.useState)(1),u=i[0],f=i[1],p=(0,c.useState)(k),v=p[0],b=p[1],g=function(e,t,n){var r=[];return n.forEach(function(e){return function(){var t=this,n=arguments;return new Promise((function(r,c){var a=e.apply(t,n);function s(e){N(a,r,c,s,i,"next",e)}function i(e){N(a,r,c,s,i,"throw",e)}s(void 0)}))}}(o().mark((function n(c){var a;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,y(e,t,c);case 2:a=n.sent,r.push(a);case 4:case"end":return n.stop()}}),n)})))),r};return(0,r.jsxs)("form",{className:"col",children:[(0,r.jsx)(m,{htmlFor:"text-input",id:"text-input",rows:6,title:"Texto",value:n,setValue:a}),(0,r.jsxs)("div",{className:"d-flex justify-content-evenly mt-3",children:[(0,r.jsx)(j,{patternsNumber:u,setPatternsNumber:f}),(0,r.jsx)(d,{})]}),(0,r.jsx)(h,{patternsNumber:u}),(0,r.jsx)("div",{className:"d-flex justify-content-evenly mt-3",children:(0,r.jsx)("h1",{children:"Algoritmos a Utilizar"})}),(0,r.jsx)("div",{className:"d-flex justify-content-evenly mt-2",children:v.map((function(e,t){return(0,r.jsx)(x,{name:e.name,value:e.isChecked,setValue:function(){return function(e){var t=w(v);t[e].isChecked=!t[e].isChecked,b(t)}(t)}})}))}),(0,r.jsx)("div",{className:"d-flex justify-content-center mt-3",children:(0,r.jsx)("button",{type:"submit",className:"btn btn-primary",onClick:function(t){t.preventDefault();var r=v.filter((function(e){return e.isChecked}));if(r.length){var c=r.map((function(e){return e.slug})),a=s.map((function(e){return g(n,e,c)}));e.setData(a)}else alert("Seleccione un algoritmo")},children:"Buscar"})})]})},S=function(e){return(0,r.jsxs)("div",{style:{marginLeft:"10px"},children:[(0,r.jsxs)("p",{children:["Linea: ",e.line]}),(0,r.jsx)("ul",{children:e.positions.map((function(e){return(0,r.jsxs)("li",{children:["Ocurrencia en la posicion ",e]})}))})]})},P=function(e){var t=Object.keys(e.occurrences);return(0,r.jsxs)("th",{scope:"col",children:[t.map((function(t,n){return(0,r.jsx)(S,{line:parseInt(t),positions:e.occurrences[t]},n)})),function(){if(0==t.length)return(0,r.jsx)("h5",{className:"text-center",children:"0"})}()]})},T=function(e){var t={};e.rowsData.forEach((function(e){var n=e.name,r=e.pattern,c=e.occurrencesByLine,a=e.executionTimeMS,s=0,i=c;for(var o in i)s+=i[o].length;t[r]||(t[r]=[]),t[r].push({name:n,totalOccurrences:s,executionTimeMS:a})}));var n=Object.keys(t);return(0,r.jsx)(r.Fragment,{children:n.map((function(e){return(0,r.jsx)("tr",{children:(0,r.jsxs)("th",{children:[(0,r.jsxs)("p",{className:"text-center h5",children:["Patr\xf3n: ",e]}),(0,r.jsx)("ul",{children:t[e].map((function(e){var t=e.name,n=e.totalOccurrences,c=e.executionTimeMS;return(0,r.jsx)("li",{className:"fw-normal",children:"Para el algoritmo ".concat(t," encontraron ").concat(n," coincidencias y la b\xfasqueda tom\xf3 ").concat(c," milisegundos.")})}))})]})})}))})},A=function(e){var t=e.data,n=(0,c.useState)([]),a=n[0],s=n[1];return(0,c.useEffect)((function(){s(t.flat(2))}),[t,a]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("table",{className:"table table-bordered border-primary table-striped col mb-0",style:{minHeight:"100%"},children:[(0,r.jsx)("thead",{children:(0,r.jsxs)("tr",{className:"text-center h4",children:[(0,r.jsx)("th",{scope:"col",children:"Algoritmo"}),(0,r.jsx)("th",{scope:"col",children:"Patr\xf3n"}),(0,r.jsx)("th",{scope:"col",children:"Coincidencias"}),(0,r.jsx)("th",{scope:"col",children:"Tiempo de B\xfasqueda"})]})}),(0,r.jsx)("tbody",{children:a.map((function(e){var t=e.name,n=e.pattern,c=e.occurrencesByLine,a=e.executionTimeMS,s=e.executionTimeNS;return(0,r.jsxs)("tr",{className:"pt-2",children:[(0,r.jsx)("th",{scope:"col",className:"text-center",children:t}),(0,r.jsx)("th",{scope:"col",className:"text-center",children:n}),(0,r.jsx)(P,{occurrences:c}),(0,r.jsxs)("th",{scope:"col",className:"text-center",children:[a," ms ",(0,r.jsx)("br",{})," ",s," ns"]})]})}))})]}),(0,r.jsxs)("table",{className:"table table-bordered border-primary table-striped col mt-5",children:[(0,r.jsx)("thead",{children:(0,r.jsx)("tr",{className:"text-center h4",children:(0,r.jsx)("th",{children:"Resumen"})})}),(0,r.jsx)("tbody",{children:(0,r.jsx)(T,{rowsData:a})})]})]})},F=function(){var e=(0,c.useState)([]),t=e[0],n=e[1];return(0,r.jsxs)("main",{className:"container ",style:{minHeight:"85vh"},children:[(0,r.jsx)("div",{className:"row mt-2",children:(0,r.jsx)(C,{setData:n})}),(0,r.jsx)("div",{className:"row mt-4 d-flex flex-column",children:(0,r.jsx)(A,{data:t})})]})},_=function(){return(0,r.jsx)("footer",{})},E=function(){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s,{}),(0,r.jsx)(u,{children:(0,r.jsx)(F,{})}),(0,r.jsx)(_,{})]})}}},function(e){e.O(0,[774,888,179],(function(){return t=5301,e(e.s=t);var t}));var t=e.O();_N_E=t}]);